1. 获取热门仓库（可选）
export GITHUB_TOKEN=<你的 GitHub Token>
python data_collection/collect/get_top_repos.py \
  --language Python \
  --output_path data/popular_repos \
  --top_n 100

2. 拉取 PR 数据
从某个repo（例子：python-attrs/attrs）
python data_collection/collect/print_pulls.py \
  python-attrs/attrs \
  data/python-attrs/attrs/prs.jsonl
从自己的issue list中获取prs：
例子
[
  {"repo": "MLSysOps/MLE-agent", "issue_number": 273, "pr_number": 274},
  {"repo": "githubnext/gh-aw", "issue_number": 1126, "pr_number": 1127},
  {"repo": "dapr/dapr-agents", "issue_number": 209, "pr_number": 279},
  {"repo": "MLSysOps/MLE-agent", "issue_number": 33, "pr_number": 252},
  {"repo": "MLSysOps/MLE-agent", "issue_number": 56, "pr_number": 249},
  {"repo": "MLSysOps/MLE-agent", "issue_number": 71, "pr_number": 72},
  {"repo": "dapr/dapr-agents", "issue_number": 83, "pr_number": 262},
  {"repo": "MLSysOps/MLE-agent", "issue_number": 121, "pr_number": 154},
  {"repo": "dapr/dapr-agents", "issue_number": 149, "pr_number": 152},
  {"repo": "MLSysOps/MLE-agent", "issue_number": 174, "pr_number": 217},
  {"repo": "crewAIInc/crewAI", "issue_number": 793, "pr_number": 797},
  {"repo": "InternLM/lagent", "issue_number": 49, "pr_number": 50},
  {"repo": "modelscope/agentscope", "issue_number": 411, "pr_number": 420},
  {"repo": "upsonic/upsonic", "issue_number": 52, "pr_number": 504},
  {"repo": "RedDotRocket/AgentUp", "issue_number": 313, "pr_number": 314},
  {"repo": "VoltAgent/voltagent", "issue_number": 87, "pr_number": 1055},
  {"repo": "iflytek/astron-agent", "issue_number": 434, "pr_number": 436},
  {"repo": "modelscope/agentscope", "issue_number": 71, "pr_number": 76},
  {"repo": "crewAIInc/crewAI", "issue_number": 799, "pr_number": 800},
  {"repo": "RedDotRocket/AgentUp", "issue_number": 256, "pr_number": 278}
]



  python data_collection/collect/fetch_prs_from_issue_map.py \
  /home/cc/issue_pr_map.json \
  data/my_instances/prs.jsonl

  3. 构建任务实例（instances）
  python data_collection/collect/build_dataset.py \
  data/my_instances/prs.jsonl \
  data/my_instances/instances.jsonl \
  --language python
4.版本标注
  python data_collection/collect/get_version.py \
  --instance_path data/my_instances/instances.jsonl  \
  --testbed github \
  --max-workers 20

  三、Stage II：用 SWE-Builder 建评测环境
python -m app.main swe-bench \
  --model gpt-4.1-mini \
  --tasks-map "data/my_instances/instances_versions.jsonl" \
  --num-processes 10 \
  --model-temperature 0.2 \
  --conv-round-limit 10 \
  --output-dir "output/gpt-4.1-mini/mypy" \
  --setup-dir "testbed" \
  --results-path "output/gpt-4.1-mini/mypy/results"


  /home/cc/swe-factory/data/my_instances/instances_versions.jsonl

  Stage III：Fail2Pass 校验
  python evaluation/run_evaluation.py \
  --dataset_name "output/git-4.1-mini/mypy/results/results.json" \
  --predictions_path "gold" \
  --max_workers 5 \
  --run_id "mypy_fail2pass_check" \
  --output_path "run_instances" \
  --timeout 3600 \
  --is_judge_fail2pass


 自动判断 Fail2Pass 状态
  python scripts/judge_fail2pass.py \
  evaluation/run_instance/mypy_fail2pass_check/gold \
  fail2pass_status.json